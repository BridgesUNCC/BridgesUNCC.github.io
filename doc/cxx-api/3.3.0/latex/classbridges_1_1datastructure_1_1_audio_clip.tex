\hypertarget{classbridges_1_1datastructure_1_1_audio_clip}{}\doxysection{bridges\+::datastructure\+::Audio\+Clip Class Reference}
\label{classbridges_1_1datastructure_1_1_audio_clip}\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}


{\ttfamily \#include $<$Audio\+Clip.\+h$>$}

Inheritance diagram for bridges\+::datastructure\+::Audio\+Clip\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classbridges_1_1datastructure_1_1_audio_clip}
\end{center}
\end{figure}


\doxysubsection{Detailed Description}
This class provides support for reading, modifying, and playing audio waveforms. 

This class provides a way to represent an \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip}{Audio\+Clip}} (think of a .WAV file) in \mbox{\hyperlink{classbridges_1_1_bridges}{Bridges}} as waveforms.

An \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip}{Audio\+Clip}} can be composed of multiple channels\+: a stereo sound would be composed of 2 channels (Left and Right), a mono sound would be composed of a single channel. A 5.\+1 sound would be composed of 6 channels. When building an \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip}{Audio\+Clip}} from a file, the number of channels is taken from the file; some constructors have a num\+Channels that enables to pass the number of channels explicitly. If unsure, one can know how many channels are in an audio clip using \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_acc378f797b1b6e3cfb778c1ccdc23dba}{get\+Num\+Channels()}}.

Each channel is essentially a 1D signal. That is to say, it is an array of values that represent how far the membrane of a speaker should be from its resting position. The quality of the sound is controlled by two parameters\+: sampling rate and sampling depth.

Sampling rate tells how many positions per second are encoded by the \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip}{Audio\+Clip}}. It is expressed in Hertz. CD quality is 44100Hz; while walkie-\/talkies use 8000Hz. It is set automatically if read from a file; or it can be passed as the sample\+Rate parameter to some of the constructors. The sampling rate can be obtained from an \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip}{Audio\+Clip}} using \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_a520e4a9bbe0685b3598d90668172618c}{get\+Sample\+Rate()}}.

The length of an \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip}{Audio\+Clip}} is expressed in number of samples. So if an \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip}{Audio\+Clip}} is composed of 16,000 samples with a sampling rate of 8000Hz, the clip would be 2 seconds long. The number of samples can obtained with \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aaaee4b34cd512c02a0c0ea072782a9d6}{get\+Sample\+Count()}}; it is set from a file or can be passed as the sample\+Count parameter of some of the constructor.

The sampling depth indicates how many different positions the membrane can take. It is typically expressed in bits with supported values being 8-\/bit, 16-\/bit, 24-\/bit, and 32-\/bit. If a clip is encoded with a depth of 8 bits, the membrane can take 2$^\wedge$8 different position ranging from -\/128 to +127, with 0 being the resting position. The sampling depth is read from files or passed as the sample\+Bits parameter of the constructor. The sampling depth of an existing clip can be obtained with \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}.

The individual samples are accessed with the \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_a24bd273de32369cb9d979e7250759717}{get\+Sample()}} and \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aa7617402fd316152dd2585a5dbe33ded}{set\+Sample()}} functions. The samples are integer values in the \mbox{[}-\/2$^\wedge$(\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}-\/1) ; 2$^\wedge$(\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}-\/1)\mbox{[} range. The functions allow to specify for channel and sample index.

\begin{DoxySeeAlso}{See also}
There is a tutorial for processing audio at \href{https://bridgesuncc.github.io/tutorials/AudioClip.html}{\texttt{ https\+://bridgesuncc.\+github.\+io/tutorials/\+Audio\+Clip.\+html}}
\end{DoxySeeAlso}
\begin{DoxyAuthor}{Author}
Luke Sloop, Kalpathi Subramanian, Erik Saule 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2020
\end{DoxyDate}
Acknowledgements\+: The Wav file parser is adapted from Amit Sengupta\textquotesingle{}s C version, posted at TRUELOGIC BLOG, \href{http://truelogic.org/wordpress/2015/09/04/parsing-a-wav-file-in-c/}{\texttt{ http\+://truelogic.\+org/wordpress/2015/09/04/parsing-\/a-\/wav-\/file-\/in-\/c/}}

It was converted into C++ in this implementation. \doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aa4db655f2e904a30742d45408ff6543c}{Audio\+Clip}} (int sample\+Count, int num\+Channels, int sample\+Bits, int sample\+Rate)
\begin{DoxyCompactList}\small\item\em create an audio clip \end{DoxyCompactList}\item 
virtual const string \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_a1fc853180a8d825b2e5ea2d8e3f8e810}{get\+DStype}} () const override
\item 
\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_a3e13f90a853b5a2053725f550393f0de}{Audio\+Clip}} (const string \&wave\+\_\+file)
\begin{DoxyCompactList}\small\item\em create an audio clip from a File \end{DoxyCompactList}\item 
virtual const string \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_a9ff485d7b2e0211d9e5c1432d47be617}{get\+Data\+Structure\+Representation}} () const override final
\item 
int \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_acc378f797b1b6e3cfb778c1ccdc23dba}{get\+Num\+Channels}} () const
\begin{DoxyCompactList}\small\item\em returns the number of channels of the clip \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_a520e4a9bbe0685b3598d90668172618c}{get\+Sample\+Rate}} () const
\begin{DoxyCompactList}\small\item\em returns the sampling rate of the clip \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aaaee4b34cd512c02a0c0ea072782a9d6}{get\+Sample\+Count}} () const
\begin{DoxyCompactList}\small\item\em returns the number of samples in the clip \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits}} () const
\begin{DoxyCompactList}\small\item\em returns the sampling depth. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_a24bd273de32369cb9d979e7250759717}{get\+Sample}} (int channel\+Index, int sample\+Index) const
\begin{DoxyCompactList}\small\item\em access a particular sample \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aa7617402fd316152dd2585a5dbe33ded}{set\+Sample}} (int channel\+Index, int sample\+Index, int value)
\begin{DoxyCompactList}\small\item\em change a particular sample \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_aa4db655f2e904a30742d45408ff6543c}\label{classbridges_1_1datastructure_1_1_audio_clip_aa4db655f2e904a30742d45408ff6543c}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!AudioClip@{AudioClip}}
\index{AudioClip@{AudioClip}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{AudioClip()}{AudioClip()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bridges\+::datastructure\+::\+Audio\+Clip\+::\+Audio\+Clip (\begin{DoxyParamCaption}\item[{int}]{sample\+Count,  }\item[{int}]{num\+Channels,  }\item[{int}]{sample\+Bits,  }\item[{int}]{sample\+Rate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



create an audio clip 

creates an \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip}{Audio\+Clip}} with num\+Channels channels, sample\+Count samples at sample\+Rate Hz with a depth of sample\+Bits \mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_a3e13f90a853b5a2053725f550393f0de}\label{classbridges_1_1datastructure_1_1_audio_clip_a3e13f90a853b5a2053725f550393f0de}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!AudioClip@{AudioClip}}
\index{AudioClip@{AudioClip}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{AudioClip()}{AudioClip()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bridges\+::datastructure\+::\+Audio\+Clip\+::\+Audio\+Clip (\begin{DoxyParamCaption}\item[{const string \&}]{wave\+\_\+file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



create an audio clip from a File 


\begin{DoxyParams}{Parameters}
{\em wave\+\_\+file} & name of the file (should be a Wave file) \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_a9ff485d7b2e0211d9e5c1432d47be617}\label{classbridges_1_1datastructure_1_1_audio_clip_a9ff485d7b2e0211d9e5c1432d47be617}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!getDataStructureRepresentation@{getDataStructureRepresentation}}
\index{getDataStructureRepresentation@{getDataStructureRepresentation}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{getDataStructureRepresentation()}{getDataStructureRepresentation()}}
{\footnotesize\ttfamily virtual const string bridges\+::datastructure\+::\+Audio\+Clip\+::get\+Data\+Structure\+Representation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Ease of use function for the deletion of an entire datastructure. Overrides should call delete on itself and each linked data structure

\begin{DoxyWarning}{Warning}
Only call if all these data structures were all dynamicaly allocated(aka\+: using new) Gets the JSON representation of this \mbox{\hyperlink{classbridges_1_1datastructure_1_1_data_structure}{Data\+Structure}}\textquotesingle{}s nodes and links
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
The JSON representation of the data structure\+: A pair holding the nodes and links JSON strings respectively 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classbridges_1_1datastructure_1_1_data_structure}{bridges\+::datastructure\+::\+Data\+Structure}}.

\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_a1fc853180a8d825b2e5ea2d8e3f8e810}\label{classbridges_1_1datastructure_1_1_audio_clip_a1fc853180a8d825b2e5ea2d8e3f8e810}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!getDStype@{getDStype}}
\index{getDStype@{getDStype}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{getDStype()}{getDStype()}}
{\footnotesize\ttfamily virtual const string bridges\+::datastructure\+::\+Audio\+Clip\+::get\+DStype (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyReturn}{Returns}
The string representation of this data structure type 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classbridges_1_1datastructure_1_1_data_structure_a4ff66cb34409f11fe9fc647f6d8a22ce}{bridges\+::datastructure\+::\+Data\+Structure}}.

\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_acc378f797b1b6e3cfb778c1ccdc23dba}\label{classbridges_1_1datastructure_1_1_audio_clip_acc378f797b1b6e3cfb778c1ccdc23dba}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!getNumChannels@{getNumChannels}}
\index{getNumChannels@{getNumChannels}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{getNumChannels()}{getNumChannels()}}
{\footnotesize\ttfamily int bridges\+::datastructure\+::\+Audio\+Clip\+::get\+Num\+Channels (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



returns the number of channels of the clip 

\begin{DoxyReturn}{Returns}
the number of channels of the clip (1 for mono, 2 for stereo, ...) 
\end{DoxyReturn}
\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_a24bd273de32369cb9d979e7250759717}\label{classbridges_1_1datastructure_1_1_audio_clip_a24bd273de32369cb9d979e7250759717}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!getSample@{getSample}}
\index{getSample@{getSample}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{getSample()}{getSample()}}
{\footnotesize\ttfamily int bridges\+::datastructure\+::\+Audio\+Clip\+::get\+Sample (\begin{DoxyParamCaption}\item[{int}]{channel\+Index,  }\item[{int}]{sample\+Index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



access a particular sample 


\begin{DoxyParams}{Parameters}
{\em channel\+Index} & the index of the channel that will be accessed (in the \mbox{[}0;\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_acc378f797b1b6e3cfb778c1ccdc23dba}{get\+Num\+Channels()}}-\/1\mbox{]} range). \\
\hline
{\em sample\+Index} & the index of the sample that will be accessed (in the \mbox{[}0;\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aaaee4b34cd512c02a0c0ea072782a9d6}{get\+Sample\+Count()}}-\/1\mbox{]} range). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the sample value (in \mbox{[}-\/2$^\wedge$(\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}-\/1) ; 2$^\wedge$(\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}-\/1)) range). 
\end{DoxyReturn}
\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}\label{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!getSampleBits@{getSampleBits}}
\index{getSampleBits@{getSampleBits}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{getSampleBits()}{getSampleBits()}}
{\footnotesize\ttfamily int bridges\+::datastructure\+::\+Audio\+Clip\+::get\+Sample\+Bits (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



returns the sampling depth. 

The sampling depth indicates how many bits are used to encode each individual samples. The values supported are only 8, 16, 24, and 32.

All samples must be in the \mbox{[}-\/2$^\wedge$(\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}-\/1) ; 2$^\wedge$(\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}-\/1)) range. that is to say, for 8-\/bit, in the \mbox{[}-\/256;255\mbox{]} range.

\begin{DoxyReturn}{Returns}
the sampling depth. 
\end{DoxyReturn}
\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_aaaee4b34cd512c02a0c0ea072782a9d6}\label{classbridges_1_1datastructure_1_1_audio_clip_aaaee4b34cd512c02a0c0ea072782a9d6}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!getSampleCount@{getSampleCount}}
\index{getSampleCount@{getSampleCount}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{getSampleCount()}{getSampleCount()}}
{\footnotesize\ttfamily int bridges\+::datastructure\+::\+Audio\+Clip\+::get\+Sample\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



returns the number of samples in the clip 

The length of the clip in second is \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aaaee4b34cd512c02a0c0ea072782a9d6}{get\+Sample\+Count()}}/((double) \mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_a520e4a9bbe0685b3598d90668172618c}{get\+Sample\+Rate()}})

\begin{DoxyReturn}{Returns}
the number of samples in the clip 
\end{DoxyReturn}
\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_a520e4a9bbe0685b3598d90668172618c}\label{classbridges_1_1datastructure_1_1_audio_clip_a520e4a9bbe0685b3598d90668172618c}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!getSampleRate@{getSampleRate}}
\index{getSampleRate@{getSampleRate}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{getSampleRate()}{getSampleRate()}}
{\footnotesize\ttfamily int bridges\+::datastructure\+::\+Audio\+Clip\+::get\+Sample\+Rate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



returns the sampling rate of the clip 

\begin{DoxyReturn}{Returns}
the sampling rate of the clip in Hertz. (CD quality is 44100Hz for instance) 
\end{DoxyReturn}
\mbox{\Hypertarget{classbridges_1_1datastructure_1_1_audio_clip_aa7617402fd316152dd2585a5dbe33ded}\label{classbridges_1_1datastructure_1_1_audio_clip_aa7617402fd316152dd2585a5dbe33ded}} 
\index{bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}!setSample@{setSample}}
\index{setSample@{setSample}!bridges::datastructure::AudioClip@{bridges::datastructure::AudioClip}}
\doxysubsubsection{\texorpdfstring{setSample()}{setSample()}}
{\footnotesize\ttfamily void bridges\+::datastructure\+::\+Audio\+Clip\+::set\+Sample (\begin{DoxyParamCaption}\item[{int}]{channel\+Index,  }\item[{int}]{sample\+Index,  }\item[{int}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



change a particular sample 


\begin{DoxyParams}{Parameters}
{\em channel\+Index} & the index of the channel that will be accessed (in the \mbox{[}0;\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_acc378f797b1b6e3cfb778c1ccdc23dba}{get\+Num\+Channels()}}-\/1\mbox{]} range). \\
\hline
{\em sample\+Index} & the index of the sample that will be accessed (in the \mbox{[}0;\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aaaee4b34cd512c02a0c0ea072782a9d6}{get\+Sample\+Count()}}-\/1\mbox{]} range). \\
\hline
{\em value} & the sample value (in \mbox{[}-\/2$^\wedge$(\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}-\/1) ; 2$^\wedge$(\mbox{\hyperlink{classbridges_1_1datastructure_1_1_audio_clip_aca7c5460d005d62a7a0d2eae595e63d3}{get\+Sample\+Bits()}}-\/1)) range). \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/erik/work/bridges/bridges-\/cxx/src/\mbox{\hyperlink{_audio_clip_8h}{Audio\+Clip.\+h}}\end{DoxyCompactItemize}

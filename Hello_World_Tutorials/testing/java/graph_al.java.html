<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>~/graphics/bridges/bridgesUNCC/Hello_World_Tutorials/testing/java/graph_al.java.html</title>
<meta name="Generator" content="Vim/7.3">
<meta name="plugin-version" content="vim7.3_v6">
<meta name="syntax" content="c">
<meta name="settings" content="use_css,no_progress">
<style type="text/css">
<!--
pre { font-family: monospace; color: #000000; background-color: #ffffff; }
body { font-family: monospace; color: #000000; background-color: #ffffff; }
.Statement { color: #008080; font-weight: bold; }
.Constant { color: #0000c0; text-decoration: underline; }
.Comment { color: #c00000; font-weight: bold; }
.Type { color: #008000; text-decoration: underline; }
-->
</style>
</head>
<body>
<pre>
import java.util.ArrayList;
import java.lang.String;
import bridges.base.Element;
import bridges.base.SLelement;
import bridges.base.GraphAdjListSimple;
import bridges.base.Edge;
import bridges.connect.Bridges;
import bridges.data_src_dependent.ActorMovieIMDB;

public class graph_al {
        public <span class="Type">static</span> <span class="Type">void</span> main(String[] args) throws Exception {

                <span class="Comment">// initialize Bridges</span>
                Bridges bridges = new Bridges(<span class="Constant">212</span>, <span class="Constant">&quot;YOUR_USER_ID&quot;</span>, <span class="Constant">&quot;YOUR_API_KEY&quot;</span>);

                <span class="Comment">// set a title for the visualization</span>
                bridges.setTitle(<span class="Constant">&quot;A Simple Graph (Adjacency List) Example using IMDB Actor/Movie Data&quot;</span>);

                ArrayList&lt;ActorMovieIMDB&gt;  actor_movie_data =
                        (ArrayList&lt;ActorMovieIMDB&gt;) bridges.getActorMovieIMDBData(<span class="Constant">1813</span>);

                <span class="Comment">// create an adjacency list based graph</span>
                GraphAdjListSimple&lt;String&gt; g = new GraphAdjListSimple&lt;String&gt;();

                <span class="Comment">// first create vertices for two actors and add them to the graph</span>
                String a1 = <span class="Constant">&quot;Kevin_Bacon_(I)&quot;</span>, a2 = <span class="Constant">&quot;Denzel_Washington&quot;</span>;
                g.addVertex(a1, <span class="Constant">&quot;&quot;</span>);
                g.addVertex(a2, <span class="Constant">&quot;&quot;</span>);

                <span class="Comment">// add an edge between the two actors a1 and a2,</span>
                <span class="Comment">// the third parameter is the edge weight</span>
                g.addEdge(a1, a2, <span class="Constant">1</span>);

                <span class="Comment">// color the two actor nodes</span>
                g.getVertices().get(<span class="Constant">&quot;Kevin_Bacon_(I)&quot;</span>).getVisualizer().setColor(<span class="Constant">&quot;red&quot;</span>);
                g.getVertices().get(<span class="Constant">&quot;Denzel_Washington&quot;</span>).getVisualizer().setColor(<span class="Constant">&quot;red&quot;</span>);
                <span class="Comment">// make them a bit bigger</span>
                g.getVertices().get(<span class="Constant">&quot;Kevin_Bacon_(I)&quot;</span>).getVisualizer().setSize(<span class="Constant">20</span>);
                g.getVertices().get(<span class="Constant">&quot;Denzel_Washington&quot;</span>).getVisualizer().setSize(<span class="Constant">20</span>);

                <span class="Comment">// get their nodes</span>
                Element v1 = g.getVertices().get(a1);
                Element v2 = g.getVertices().get(a2);

                <span class="Comment">// we will find the first 15 immediate neighbors of of the two actors</span>
                <span class="Comment">// and color those links and nodes by followng their adjacency lists</span>
                <span class="Type">int</span> cnt1 = <span class="Constant">0</span>, cnt2 = <span class="Constant">0</span>;
                <span class="Statement">for</span> (<span class="Type">int</span> k = <span class="Constant">0</span>; k &lt; actor_movie_data.size(); k++) {
                        <span class="Comment">// from the actor movie data, get an actor-movie pair</span>
                        String a = actor_movie_data.get(k).getActor();
                        String m = actor_movie_data.get(k).getMovie();

                        <span class="Statement">if</span> (a.equals(<span class="Constant">&quot;Kevin_Bacon_(I)&quot;</span>) &amp;&amp; cnt1 &lt; <span class="Constant">15</span>) {

                                <span class="Comment">// add vertices for this movie  and an edge for the link</span>
                                g.addVertex(m, <span class="Constant">&quot;&quot;</span>);
                                g.addEdge(a1, m, <span class="Constant">1</span>);
                                g.addEdge(m, a1, <span class="Constant">1</span>);

                                <span class="Comment">// make the movie node a bit transparent</span>
                                g.getVertices().get(m).getVisualizer().setOpacity(<span class="Constant">0.5f</span>);
                                cnt1++;
                        }
                        <span class="Statement">else</span> <span class="Statement">if</span> (a.equals(<span class="Constant">&quot;Denzel_Washington&quot;</span>) &amp;&amp; cnt2 &lt; <span class="Constant">15</span>) {
                                <span class="Comment">// add vertices for this movie  and an edge for the link</span>
                                g.addVertex(m, <span class="Constant">&quot;&quot;</span>);
                                g.addEdge(a2, m, <span class="Constant">1</span>);
                                g.addEdge(m, a2, <span class="Constant">1</span>);
                                <span class="Comment">// make the movie node a bit transparent</span>
                                g.getVertices().get(m).getVisualizer().setOpacity(<span class="Constant">0.5f</span>);
                                cnt2++;
                        }
                }

                <span class="Comment">// Next, we illustrate traversing the adacency list and color the</span>
                <span class="Comment">// movie nodes adjacent to the Kevin Bacon node.</span>

                <span class="Comment">// first get the adjacency list for Kevin Bacon</span>
                SLelement&lt;Edge&lt;String, String&gt;&gt;  head = g.getAdjacencyList().get(<span class="Constant">&quot;Kevin_Bacon_(I)&quot;</span>);
                <span class="Comment">// traverse the adjacency list</span>
                <span class="Statement">for</span> (SLelement&lt;Edge&lt;String, String&gt;&gt; sle = head; sle != null; sle = sle.getNext() ) {
                        <span class="Comment">// get the terminating vertex</span>
                        String term_vertex = sle.getValue().getVertex();
                        <span class="Comment">// find the corresponding element</span>
                        Element&lt;String&gt; el = g.getVertices().get(term_vertex);
                        <span class="Comment">// set the  color of the node except the Denzel W. node</span>
                        <span class="Statement">if</span> (!term_vertex.equals(<span class="Constant">&quot;Denzel_Washington&quot;</span>))
                                el.getVisualizer().setColor(<span class="Constant">&quot;green&quot;</span>);
                }

                <span class="Comment">// Pass the graph object to BRIDGES</span>
                bridges.setDataStructure(g);

                <span class="Comment">// Finaly we call the visualize function</span>
                bridges.visualize();
        }
}
</pre>
</body>
</html>
